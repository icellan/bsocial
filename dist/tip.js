"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_constants=require("./constants"),BSocialTip=function(){function a(b){if((0,_classCallCheck2["default"])(this,a),!b)throw new Error("App name needs to be set");this.appName=b,this.txId="",this.amount=0,this.currency="USD"}return(0,_createClass2["default"])(a,[{key:"setTxId",value:function setTxId(a){this.txId=a}},{key:"setAmount",value:function setAmount(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"USD";if("number"!=typeof a||0>=a)throw new Error("Invalid amount");this.amount=a,this.currency=b}},{key:"getOps",value:function getOps(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"hex";if(!this.txId)throw new Error("Tip is not referencing a valid transaction");var b=[];return b.push(_constants.MAP_PROTOCOL_ADDRESS),b.push("SET"),b.push("app"),b.push(this.appName),b.push("type"),b.push("tip"),b.push("context"),b.push("tx"),b.push("tx"),b.push(this.txId),this.amount&&this.currency&&(b.push("currency"),b.push(this.currency),b.push("amount"),b.push(""+this.amount)),b.map(function(b){return Buffer.from(b).toString(a)})}}]),a}(),_default=BSocialTip;exports["default"]=_default;